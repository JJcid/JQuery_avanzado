<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>jQuery Avanzado</title>

    <!-- Estilo del Boostrap 4 -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/estilo.css">

    <style>
      .preloaded{
        position: absolute;
        margin-left:5%;
      }
    </style>

  </head>
  <body>

    <h1>AJAX</h1>
    <p>
      generar un gif mientras se cargan los archivos
    </p>


    

    <div class="mensaje">
        <div class="preloaded">
            <img src="assets/img/preloader.gif" alt="">
          </div>
    </div>


    <!-- LibrerÃ­a de jQuery -->
    <script src="assets/libs/jquery-3.min.js" charset="utf-8"></script>
    <script>

      var preloader = $('.preloaded');
      var doc = $(document);
      var mensaje = $('.mensaje');

      doc.ajaxStart(function(){
        preloader.fadeIn();
      });

      doc.ajaxComplete(function(){
        preloader.delay(200).fadeOut();
      });

      $.get('assets/data/1.json', function( r ){
       mensaje.append(r.mensaje);
      });

      $.get('assets/data/2.json', function( r ){
        mensaje.append(' ' + r.nombre);
      });

    </script>

  </body>
</html>
